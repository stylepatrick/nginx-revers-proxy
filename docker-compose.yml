version: "3.7"

x-logging:
  &default-logging
  driver: json-file
  options:
    max-size: "10m"
    max-file: "10"

services:
  nginx:
    image: nginx:1.19.2
    container_name: nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./logs:/var/log/nginx
      - ./html:/usr/share/nginx/html:ro
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./serverconf/:/etc/nginx/conf.d/:ro
      - ./pki/:/etc/nginx/pki/:ro
      - /etc/localtime:/etc/localtime:ro
    logging: *default-logging
    restart: always
